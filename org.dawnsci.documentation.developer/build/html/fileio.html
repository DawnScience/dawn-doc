

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>3. Input/Output &mdash; org.dawnsci.documentation.user 1.1 documentation</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/print.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/theme_extras.js"></script>
    <link rel="top" title="org.dawnsci.documentation.user 1.1 documentation" href="index.html" />
    <link rel="next" title="4. Plot server" href="plotting.html" />
    <link rel="prev" title="2. Generic dataset" href="genericdataset.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="index.html">
          <span>org.dawnsci.documentation.user 1.1 documentation</span></a></h1>
        <h2 class="heading"><span>3. Input/Output</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="genericdataset.html">2. Generic dataset</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="contents.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="plotting.html">4. Plot server</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="input-output">
<h1>3. Input/Output<a class="headerlink" href="#input-output" title="Permalink to this headline">¶</a></h1>
<p>The primary class is DataHolder. This class is used to hold data from any file.
It has been extend to allow other external files to be loaded and saved.</p>
<p>Images from various detectors can be read into the data analysis plugin. This is
done using the following method:</p>
<div class="highlight-python"><pre>import uk.ac.diamond.scisoft.analysis.io.DataHolder;
    DataHolder dh = new ADSCImageLoader("dataFile").loadFile();</pre>
</div>
<p>This populates the holder with image data and a dataset can be obtained using
the getDataset() method.</p>
<dl class="docutils">
<dt>The &#8216;ADSCImageLoader&#8217; object can be interchanged with any of the following:</dt>
<dd><ul class="first last simple">
<li>CrystalisLoader()</li>
<li>MACLoader()</li>
<li>MARloader()</li>
<li>PilatusTiffLoader()</li>
<li>CBFLoader()</li>
<li>JPEGLoader()</li>
<li>PNGloader()</li>
<li>TIFFImageLoader()</li>
</ul>
</dd>
</dl>
<p>These latter three image loaders can also load and convert RGB images to
grey-scale (luma) images if you supply an extra argument to the loader&#8217;s
constructor as a true value:</p>
<div class="highlight-python"><pre>dh = new PNGLoader("colourimage.png", True).loadFile();</pre>
</div>
<p>There is a facility to save the output from a DataHolder as either a .png
of .jpeg file. The following example assumes that there is a DataHolder called
{{{dh}}} which contains a dataset that is to be output as an image:</p>
<div class="highlight-python"><pre>new JPEGSaver("/your/directory/image.jpeg").saveFile(dh);
new PNGSaver("/your/directory/image.png").saveFile(dh);</pre>
</div>
<p>This will save a .jpeg image and a .png image containing the data held within the
DataHolder. If there are multiple datasets held within the DataHolder
then multiple images will be saved, suffixed with a number representing the number
of the dataset within the DataHolder. There is also an issue where the image
types can only save an image to a given bit depth. To save in image that has a
greater bit depth then is it recommended that the scaled savers are used:</p>
<div class="highlight-python"><pre>new JPEGScaledSaver("/your/directory/image.jpeg").saveFile(dh);
new PNGScaledSaver("/your/directory/image.png").saveFile(dh);</pre>
</div>
<p>These methods will scale the data held within the DataHolder such that the
pixel values will be scaled within 0 and the maximum bit depth of the image format.</p>
<p>There is also raw binary loader and saver classes which using a Diamond specific
binary format to store and load a dataset.</p>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="genericdataset.html">2. Generic dataset</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="contents.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="plotting.html">4. Plot server</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2013, Diamond Light Source.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>