<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Session 2. DAWN Training - Advanced Data Browsing</title>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta content="Scroll EclipseHelp Exporter" name="generator"/>

    <link type="text/css" rel="stylesheet" href="css/eclipse-defaults.css" />
    <link type="text/css" rel="stylesheet" href="css/common.css" />
    <link type="text/css" rel="stylesheet" href="css/print.css" media="print" />
</head>
<body>
    <div class="container">
        <div class="header"></div>

        <div id="22251889" class="content">
            <h1>Session 2. DAWN Training - Advanced Data Browsing</h1>
    <p  class="">
Welcome to the second in a series of training sessions to use the DAWN software suite. The aims of this tutorial are :    </p>
<ul class=" "><li class=" ">    <p  class="">
Further features of the plotting system, annotations and regions    </p>
</li><li class=" ">    <p  class="">
The plot tool system    </p>
</li><li class=" ">    <p  class="">
Plotting tools for 1D data    </p>
</li><li class=" ">    <p  class="">
Plotting tools for 2D data    </p>
</li><li class=" ">    <p  class="">
Expressions in the Data Browsing perspective    </p>
</li><li class=" ">    <p  class="">
History tools    </p>
</li></ul>    <div class="section section-2 "  id="22251889_Session2.DAWNTraining-AdvancedDataBrowsing-1.ThePlot-Customizing"  >
        <h2>1. The Plot - Customizing</h2>
    
    <p  class="">
This section gives a brief introduction to a final few aspects of the plotting system before starting to use the tool system.    </p>
    <p  class="">
<strong class=" "><u class=" ">Annotations</u></strong>    </p>
    <p  class="">
Annotations allow you to make notes on a plot referring to a particular region of a trace or image.    </p>
<ul class=" "><li class=" ">    <p  class="">
    <span style="color: #000080;" class="">
<strong class=" ">Open the file <i class=" ">MoKegde_1_15.</i>dat and plot <i class=" ">In(I0/It)</i> vs <i class=" ">Energy</i>, open the <i class=" ">View</i> menu and select <i class=" ">Add Annotation</i> (refer to tutorial 1 if you are not sure how to do this).</strong>    </span>
    </p>
</li></ul>    <p  class="">
    </p>
    <p  class="">
        <img src="images/download/attachments/22251889/image2013-5-10_10_15_33.png" alt="images/download/attachments/22251889/image2013-5-10_10_15_33.png" class="confluence-embedded-image image-left" width="500"/>
            </p>
    <p  class="">
        <img src="images/download/attachments/22251889/image2013-5-10_10_28_14.png" alt="images/download/attachments/22251889/image2013-5-10_10_28_14.png" class="confluence-embedded-image image-left" width="500"/>
            </p>
    <p  class="">
    </p>
    <p  class="">
    </p>
    <p  class="">
    </p>
    <p  class="">
    </p>
    <p  class="">
    </p>
    <p  class="">
    </p>
    <p  class="">
    </p>
    <p  class="">
    </p>
    <p  class="">
    </p>
    <p  class="">
    </p>
    <p  class="">
    </p>
    <p  class="">
    </p>
    <p  class="">
The <i class=" ">Add Annotation</i> dialog will appear,     <span style="color: #000080;" class="">
<strong class=" ">give your annotation a name and click OK</strong>.    </span>
    </p>
<ul class=" "><li class=" ">    <p  class="">
    <span style="color: #000080;" class="">
<strong class=" ">Drag the Annotation label around and the cross marking where the Annotation meets the trace. Edit your Annotation using the Settings action on the plot (or by right-clicking on the annotation and selecting <i class=" ">Configure</i>)</strong>    </span>
    </p>
</li><li class=" ">    <p  class="">
    <span style="color: #000080;" class="">
<i class=" "><strong class=" ">Exercise 1. open the file</strong><strong class=" "><i class=" "> pow_M99S5_1_0001.cbf and add an Annotation to the image. What extra information does the Annotation have here compared t</i>o the trace annotation?</strong></i>    </span>
    </p>
</li></ul>    <p  class="">
<i class=" "><strong class=" "><br/></strong></i><u class=" "><strong class=" ">Regions of Interest (ROIs)</strong></u>    </p>
    <p  class="">
Region selections are heavily use by the Plot Tool system for selecting areas of a trace/image to be analyzed. They can also be used outside of the tool system for marking interesting areas.    </p>
<ul class=" "><li class=" ">    <p  class="">
    <span style="color: #000080;" class="">
<strong class=" ">Open the <i class=" ">View</i> menu, go to <i class=" ">Selection Region</i> and select <i class=" ">add line selection</i>.</strong>    </span>
    </p>
</li></ul>    <p  class="">
You should notice the mouse cursor has changed. <strong class=" ">    <span style="color: #000080;" class="">
Click the mouse once to start drawing the line and again to finish    </span>
.</strong>    </p>
    <p  class="">
    <span style="color: #000080;" class="">
<strong class=" ">After the line is drawn, click on and hold to move it or change its start and end positions.</strong>    </span>
    </p>
    <p  class="">
<strong class=" ">        <img src="images/download/thumbnails/22251889/image2013-5-10_10_45_46.png" alt="images/download/thumbnails/22251889/image2013-5-10_10_45_46.png" class="confluence-embedded-image confluence-thumbnail" width="300"/>
    </strong>    </p>
    <p  class="">
    <span style="color: #000080;" class="">
<i class=" "><strong class=" ">Exercise 2. Draw some of the other regions</strong><strong class=" "> (Box, Sector...), how many clicks does it take to draw a Sector, and what does each click define?</strong></i>    </span>
    </p>
    <p  class="">
    <span style="color: #000080;" class="">
<i class=" "><strong class=" "><i class=" "><strong class=" ">Exercise 3. Change the color of the regions you have drawn (where might you be able to do this)</strong><strong class=" ">?</strong></i></strong></i>    </span>
    </p>
<ul class=" "><li class=" ">    <p  class="">
    <span style="color: #000080;" class="">
<strong class=" ">After creating some regions remove them by either (a) right-clicking on a region and selecting delete or (b) using the remove region plot toolbar actions         <img src="images/download/attachments/22251889/image2013-5-10_10_48_41.png" alt="images/download/attachments/22251889/image2013-5-10_10_48_41.png" class="confluence-embedded-image" />
    </strong>    </span>
    </p>
</li></ul>    </div>
    
    <div class="section section-2 "  id="22251889_Session2.DAWNTraining-AdvancedDataBrowsing-2.PlottingTools"  >
        <h2>2. Plotting Tools</h2>
    
    <p  class="">
The tool system is used to extract extra information from plotted data, whether it is fitting a peak to a trace, or integrating an area on a image. Since traces and images represent very different kinds of data, there are different sets of tools for each type.    </p>
    <p  class="">
Plotting tools are a special type of view that are connected to the plot they were opened on (this is a bit of a generalization but we will get on to that later in the section on <i class=" ">History Tools</i>).    </p>
    <div class="section section-3 "  id="22251889_Session2.DAWNTraining-AdvancedDataBrowsing-ImageTools(or2Dtools)"  >
        <h3>Image Tools (or 2D tools)</h3>
    
    <p  class="">
        <img src="images/download/thumbnails/22251889/image2013-5-10_11_5_11.png" alt="images/download/thumbnails/22251889/image2013-5-10_11_5_11.png" class="confluence-embedded-image confluence-thumbnail" width="300"/>
            </p>
    <p  class="">
DAWN includes a comprehensive set of image analysis tools which tends to get longer with every release. The first set of tools were are going to look at are the <i class=" ">Profile</i> tools.    </p>
    <p  class="">
<u class=" "><i class=" ">Profile tools</i></u>    </p>
<ul class=" "><li class=" ">    <p  class="">
    <span style="color: #000080;" class="">
<strong class=" ">Open or switch to file powder diffraction image, remove any annotations or ROIs that may be on it.</strong>    </span>
    </p>
</li><li class=" ">    <p  class="">
    <span style="color: #000080;" class="">
<strong class=" ">Click the Plot Tools drop down action and select Line Profile, the Line Profile Tool view will open and the mouse cursor changes to the Draw ROI cursor (as in the previous section).</strong>    </span>
    </p>
</li><li class=" ">    <p  class="">
    <span style="color: #000080;" class="">
<strong class=" ">Draw a Line ROI on the plot, see how the profile appears in the tool view.  Move the line ROI and watch the plot update.</strong>    </span>
    </p>
</li></ul>    <p  class="">
        <img src="images/download/attachments/22251889/image2013-5-10_11_16_51.png" alt="images/download/attachments/22251889/image2013-5-10_11_16_51.png" class="confluence-embedded-image" width="500"/>
            </p>
<ul class=" "><li class=" ">    <p  class="">
    <span style="color: #000080;" class="">
<strong class=" ">Click the Create New Profile action on the Tool views plotting toolbar and draw another line ROI</strong>        <img src="images/download/attachments/22251889/image2013-5-10_11_19_1.png" alt="images/download/attachments/22251889/image2013-5-10_11_19_1.png" class="confluence-embedded-image" />
        </span>
    </p>
</li></ul>    <p  class="">
Each Profile tool will have this action in the same location on the toolbar and is the easiest way to draw the correct ROI for each profile tool.    </p>
    <p  class="">
    <span style="color: #000080;" class="">
<i class=" "><strong class=" ">Exercise 4. Remove the ROIs from the plot and try some of the other profile tools (Box Profile, Radial Profile...)</strong></i>    </span>
    </p>
    <p  class="">
    <span style="color: #000080;" class="">
<i class=" "><strong class=" ">Exercise 5. Try the Zoom Profile Tool, how is this different from the other Profile Tools?</strong></i>    </span>
    </p>
    <p  class="">
The nice thing about the Profile Tools is that you can use the Trace Tools on the profiles they create (more on this later).    </p>
    <p  class="">
<u class=" ">Masking Tool</u>    </p>
    <p  class="">
From investigating the powder diffraction image you may have noticed that the gap between the detector plates leaves steps in the profile which can affect further data analysis. The Masking Tool can be used to mask out these areas removing there effect from the profile.    </p>
<ul class=" "><li class=" ">    <p  class="">
    <span style="color: #000080;" class="">
<strong class=" ">Clear the powder diffraction image of any ROIs and open the Radial Profile Tool. Draw the sector as close to the centre of the circles as possible. Notice the dips in the data where the edges of the detector plates interfere with the profile.</strong>    </span>
    </p>
</li></ul>    <p  class="">
        <img src="images/download/attachments/22251889/image2013-5-10_11_32_4.png" alt="images/download/attachments/22251889/image2013-5-10_11_32_4.png" class="confluence-embedded-image" width="500"/>
            <img src="images/download/attachments/22251889/image2013-5-10_11_33_56.png" alt="images/download/attachments/22251889/image2013-5-10_11_33_56.png" class="confluence-embedded-image" width="500"/>
            </p>
    <p  class="">
    </p>
<ul class=" "><li class=" ">    <p  class="">
<strong class=" ">    <span style="color: #000080;" class="">
Open the <i class=" ">Masking Too</i>l, select <i class=" ">Enable lower mask, </i>click<i class=" "> Apply. </i>A green mask will appear over the gaps between the plates.    </span>
</strong>    </p>
</li><li class=" ">    <p  class="">
<strong class=" ">    <span style="color: #000080;" class="">
Re-open the <i class=" ">Radial Profile Tool</i>, notice how the dips in the profile are gone.    </span>
</strong>    </p>
</li></ul>    <p  class="">
        <img src="images/download/attachments/22251889/image2013-5-10_11_36_26.png" alt="images/download/attachments/22251889/image2013-5-10_11_36_26.png" class="confluence-embedded-image" width="500"/>
            </p>
    <p  class="">
    <span style="color: #000080;" class="">
<i class=" "><strong class=" ">Exercise 6. Try the other options in the Masking tool to build up your mask (Direct Draw, Regions).</strong></i>    </span>
    </p>
    <p  class="">
    <span style="color: #000080;" class="">
<i class=" "><strong class=" "><i class=" "><strong class=" ">Exercise 7. Export your mask to file, clear you current mask, then import it again.</strong></i></strong></i>    </span>
    </p>
    <p  class="">
<u class=" ">Color mapping Tool</u>    </p>
    <p  class="">
In the last tutorial we saw how DAWN automatically sets the Contrast/Brightness (histogram) of an image and that the auto-histogramming method can be selected and tailored in the settings menu.    </p>
    <p  class="">
Sometimes finer adjustment of the image histogram is needed and that is what the Colour Mapping tools is for.    </p>
    <p  class="">
    <span style="color: #000080;" class="">
<i class=" "><strong class=" ">Exercise 8. Open the Colormap tool, change the colormap and use some of the various methods to adjust the image.</strong></i>    </span>
    </p>
    <p  class="">
    <span style="color: #000080;" class="">
<i class=" "><strong class=" ">Exercise 9. How do you reset the histogram?</strong></i>    </span>
    </p>
    <p  class="">
The Lock action at the top of the Color Mapping tool can be use to fix the histogram over the current range for all images shown. This is useful seeing how the absolute values of the image intensity varies through an image stack.    </p>
    </div>
    
    <div class="section section-3 "  id="22251889_Session2.DAWNTraining-AdvancedDataBrowsing-TraceTools(or1Dtools)"  >
        <h3>Trace Tools (or 1D tools)</h3>
    
    <p  class="">
The traces tools in DAWN are generally used for extracting parameters from a trace, whether by fitting the traces with a line/peak/function or measuring a distance with the measurement tool. The first set of tools were are going to look at are the <i class=" ">Fitting</i> tools.    </p>
    <p  class="">
<u class=" ">Fitting Tools</u>    </p>
    <p  class="">
The Fitting Tools work by trying to fit a specific function to the area of a trace specified by a ROI.    </p>
    <p  class="">
Let's first look at the peak fitting tool.  This tool was designed to automatically find and fit sharp isolated peaks (like those found in powder diffraction data), it does not work well for traces with overlapping signals as each peak is treated independently.    </p>
<ul class=" "><li class=" ">    <p  class="">
    <span style="color: #000080;" class="">
<strong class=" ">Open the file metalmix.mca and plot Column_1. Open the Peak Fitting Tool, observe how the mouse cursor changes to the Draw ROI cursor.</strong>    </span>
    </p>
</li><li class=" ">    <p  class="">
    <span style="color: #000080;" class="">
<strong class=" ">Drag the ROI over a peak, when the mouse is release the peak should be fit automatically. Change the Peak Fitting tool to fit 7 peaks, click the fit new selection action on the tool view and drag the ROI over the entire range of the data.</strong>    </span>
    </p>
</li></ul>    <p  class="">
The tool should automatically find and fit 7 peaks. The parameters obtained from the fit should be visible in the tool view.    </p>
    <p  class="">
        <img src="images/download/attachments/22251889/image2013-5-10_12_52_4.png" alt="images/download/attachments/22251889/image2013-5-10_12_52_4.png" class="confluence-embedded-image" width="500"/>
            </p>
    <p  class="">
    <span style="color: #000080;" class="">
<i class=" "><strong class=" "><i class=" "><strong class=" ">Exercise 8. Investigate the other actions available on the tool view. Change the peak profile type to PseudoVoigt.</strong></i></strong></i>    </span>
    </p>
    <p  class="">
    <span style="color: #000080;" class="">
<i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" ">Exercise 9. Trace tools can be used on the profiles created from images. Open the powder diffraction image used earlier, use the Radial profile tool to create a profile, then fit the profile with the peak fitting tool.</strong></i></strong></i></strong></i></strong></i>    </span>
    </p>
    <p  class="">
    <span style="color: #000080;" class="">
<i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" ">Exercise 10. The line fitting tool works in the same manner as the peak fitting tool but fits polynomial functions instead of peaks. Use the line fitting tool to fit some</strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong><strong class=" "> data.</strong></i>    </span>
    </p>
    <p  class="">
For complex traces with many in overlapping signals the Function Fitting tool can be used.    </p>
    <p  class="">
        <img src="images/download/attachments/22251889/image2013-5-10_13_41_28.png" alt="images/download/attachments/22251889/image2013-5-10_13_41_28.png" class="confluence-embedded-image" width="500"/>
            </p>
    <p  class="">
    <span style="color: #000080;" class="">
<i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" ">Exercise 11. (Advanced) Fit the double peak at 107 pixels in Column_1 of metalmix.mca with two Gaussian peaks and a linear function (use the initial parameters in the image if you get stuck).</strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i>    </span>
    </p>
    <p  class="">
<u class=" ">Derivative Tool</u>    </p>
    <p  class="">
The Derivative tool is a very simple tool that allows traces to be viewed as, or with their 1st and 2nd derivatives.    </p>
<ul class=" "><li class=" ">    <p  class="">
    <span style="color: #000080;" class="">
<strong class=" ">Open metalmix.mca and plot Column_1 (or switch to that plot if all ready open, close any tools, remove any unwanted ROIs). Open the Derivative Tool and switch between showing the trace, its first and second derivatives and all three at the same time.</strong>    </span>
    </p>
</li></ul>    <p  class="">
        <img src="images/download/attachments/22251889/image2013-5-10_13_47_16.png" alt="images/download/attachments/22251889/image2013-5-10_13_47_16.png" class="confluence-embedded-image" width="500"/>
            </p>
    <p  class="">
<u class=" ">Measurement Tool</u>    </p>
    <p  class="">
The measurement tool is used for measuring distances between points on the plot. To use it, open the measurement tool (cursor changes to draw ROI), and draw a line between the two points you want to know the distance between.    </p>
    <p  class="">
The metrics for the distance are shown in the Measurement tool view, giving the distance in x and y, the combined distance and the co-ordinates for the ROI.    </p>
    <p  class="">
        <img src="images/download/attachments/22251889/image2013-5-10_13_55_41.png" alt="images/download/attachments/22251889/image2013-5-10_13_55_41.png" class="confluence-embedded-image" width="500"/>
            </p>
    </div>
    
    <div class="section section-3 "  id="22251889_Session2.DAWNTraining-AdvancedDataBrowsing-3.Expressions"  >
        <h3>3. Expressions</h3>
    
    <p  class="">
Before going on to look at the History Tools we are going to take a step back and     <span style="color: #000080;" class="">
<strong class=" ">return to the Data Browsing perspective</strong>    </span>
, to look at DAWN's mathematical expression engine.    </p>
    <p  class="">
Being able to perform specific mathematical operations on data is at the heart of data analysis. Whereas the Workflow and Python perspectives are specifically for processing data, sometimes the operations are so simple that it is more effort to load the data into the Python interpreter than to do the actual maths.  This is where DAWNs Expression system comes in. Expression are used in many places in DAWN, anywhere the Add/Remove Expressions toolbar actions can be found shows Expressions can be used.         <img src="images/download/attachments/22251889/image2013-5-10_14_16_23.png" alt="images/download/attachments/22251889/image2013-5-10_14_16_23.png" class="confluence-embedded-image" />
        </p>
    <p  class="">
Let's start with an example.    </p>
<ul class=" "><li class=" ">    <p  class="">
    <span style="color: #000080;" class="">
<strong class=" ">Open metalmix.mca (if it is open close all tools, remove all regions)</strong><strong class=" ">. Go to the Data view and click the Add Expression action.</strong>    </span>
    </p>
</li></ul>    <p  class="">
Another row will appear in the Data view, with an editable text entry area.     <span style="color: #000080;" class="">
<strong class=" ">Type <i class=" ">Column_1 - Column_2</i> in the text area</strong><strong class=" "> and press <i class=" ">Enter</i>.</strong>    </span>
    </p>
    <p  class="">
The text you have entered should now go blue and the result of the Column_1 - Column_2 calculation should be plotted.  If you mis-typed the equation, the text should go red.    </p>
    <p  class="">
        <img src="images/download/attachments/22251889/image2013-5-10_14_23_51.png" alt="images/download/attachments/22251889/image2013-5-10_14_23_51.png" class="confluence-embedded-image" width="500"/>
            </p>
    <p  class="">
More information on the specific mathematical operations that can be done can be found in the Other Tools section of the DAWN Help pages.    </p>
<ul class=" "><li class=" ">    <p  class="">
    <span style="color: #000080;" class="">
<strong class=" ">Open I22-4996.nxs. Go to the Data view and in the row Rapid2D/data, change the entry in the variable column to say <i class=" ">data</i>.</strong>    </span>
    </p>
</li></ul>    <p  class="">
This allows you to refer to the Rapid2D/data data set in an expression by simply typing <i class=" ">data</i>.    </p>
<ul class=" "><li class=" ">    <p  class="">
    <span style="color: #000080;" class="">
<strong class=" ">Click the Add Expression action and type <i class=" ">im:sobelFilter(data)</i> in the text entry field and press enter.</strong>    </span>
 The plot should now show the Sobel filtered image.    </p>
</li><li class=" ">    <p  class="">
<strong class=" ">    <span style="color: #000080;" class="">
Click the Add Expression action again and type dat:mean(data,1) in the text entry field and press enter    </span>
. </strong> The plot should show a trace which is the average along the second axis of the image (zero based indexing).    </p>
</li></ul>    <p  class="">
    <span style="color: #000080;" class="">
<i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" ">Exercise 12. Calculate the average along the other axis of the image.</strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i>    </span>
    </p>
    <p  class="">
    <span style="color: #000080;" class="">
<i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" ">Exercise 13. Try some of the functions in the namespaces (dat:, im:....) shown in the </strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i><i class=" "><i class=" "><i class=" "><i class=" "><i class=" "><i class=" "><i class=" "><i class=" "><i class=" "><i class=" "><i class=" "><i class=" "><i class=" "><i class=" "><i class=" ">He</i></i></i></i></i></i></i></i></i></i></i></i></i></i></i>lp pages</strong></i><strong class=" ">.</strong>    </span>
    </p>
    <p  class="">
(Writing Expressions may be tricky at the moment but the next few releases of DAWN will add content assist to help you write the correct function names and arguments first time)    </p>
    <p  class="">
        <img src="images/download/attachments/22251889/image2013-5-10_14_27_26.png" alt="images/download/attachments/22251889/image2013-5-10_14_27_26.png" class="confluence-embedded-image" />
            </p>
    </div>
    
    <div class="section section-3 "  id="22251889_Session2.DAWNTraining-AdvancedDataBrowsing-4.HistoryTools"  >
        <h3>4. History Tools</h3>
    
    <p  class="">
You may have noticed that we have been displaying and performing mathematical operations on various data sets, but they have always been on data from the same file. How can we plot traces from two files against each other, or how can we perform maths that needs two image.    </p>
    <p  class="">
The History Tools are the answers to these questions.    </p>
    <p  class="">
<u class=" ">Image History</u>    </p>
    <p  class="">
The image history tool allows images of the same size to be compared and combined (using simple mathematical operations or complicated Expressions).    </p>
<ul class=" "><li class=" ">    <p  class="">
    <span style="color: #000080;" class="">
<strong class=" ">Open the file ref-testscale_1_001.img, open the Image History Tool and add the image to the History.</strong>    </span>
    </p>
</li><li class=" ">    <p  class="">
    <span style="color: #000080;" class="">
<strong class=" ">Open ref-testscale_1_002.img, notice how the History Tool is still open and active (unlike the other tools when opening a new files).</strong>    </span>
    </p>
</li></ul>    <p  class="">
The History tools are a special case of the Tool system since they need to operate with more than one plot to work correctly.    </p>
<ul class=" "><li class=" ">    <p  class="">
    <span style="color: #000080;" class="">
<strong class=" ">Check the box in the Plot column of the History tool to display the sum of these two images in the plot.</strong>    </span>
    </p>
</li></ul>    <p  class="">
        <img src="images/download/attachments/22251889/image2013-5-10_15_10_21.png" alt="images/download/attachments/22251889/image2013-5-10_15_10_21.png" class="confluence-embedded-image" width="500"/>
            </p>
<ul class=" "><li class=" ">    <p  class="">
    <span style="color: #000080;" class="">
<strong class=" ">Uncheck the <i class=" ">Include current plot</i> toolbar action on the History Tool. Now only the image from the History tool should be displayed rather than the combined image.</strong>    </span>
    </p>
</li></ul>    <p  class="">
    <span style="color: #000080;" class="">
<i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" ">Exercise 14. Try using some of the other operators to combined the two images.</strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i>    </span>
    </p>
    <p  class="">
    <span style="color: #000080;" class="">
<i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" ">Exercise 15. Try and use some of the Expression syntax introduced in the last section on some of the images.</strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i>    </span>
    </p>
    <p  class="">
    <span style="color: #000080;" class="">
<i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" ">Exercise 16. Save your combined image into a nxs file and open it.</strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i>    </span>
    </p>
    <p  class="">
<u class=" ">Trace Histor</u><u class=" ">y</u>    </p>
    <p  class="">
The trace history tool works in a similar manner to the image history tool but without the ability to use mathematical operators (Expressions can be used but are still in the beta phase since the x axis is cannot be passed to the result).    </p>
    <p  class="">
    <span style="color: #000080;" class="">
<i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" ">Exercise 17. Use the History tool to display traces from different files in the same plot (suitable trace data can be provided).</strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i>    </span>
    </p>
    </div>
    
    <div class="section section-3 "  id="22251889_Session2.DAWNTraining-AdvancedDataBrowsing-5.RevisitingtheProjectExplorer"  >
        <h3>5. Revisiting the Project Explorer</h3>
    
    <p  class="">
    <span style="color: #000080;" class="">
    <span style="color: #000000;" class="">
In the first session we showed how a link could be created to your favourite data folders in the Project Explorer.  There are more powerful projects, than just plain data projects, designed to work with Diamond visits and databases. This section cannot be performed if you do not have permission to access experimental data at Diamond.<br/>    </span>
    </span>
    </p>
    <p  class="">
    <span style="color: #000080;" class="">
    <span style="color: #000000;" class="">
<u class=" ">Beamline Data Project [Diamond internal use only]</u>    </span>
    </span>
    </p>
    <p  class="">
    <span style="color: #000080;" class="">
    <span style="color: #000000;" class="">
Beamline data projects are a quick and convenient way to link a visit folder in the Project Explorer.    </span>
    </span>
    </p>
<ul class=" "><li class=" ">    <p  class="">
    <span style="color: #000080;" class="">
<strong class=" ">Open a new Beamline Data Project.</strong>    </span>
    </p>
</li><li class=" ">    <p  class="">
    <span style="color: #000080;" class="">
<strong class=" ">Choose the beamline you have a visit on and click <i class=" ">get visits</i>, select the required visit from the drop-down list and click Finish.</strong>    </span>
    </p>
</li></ul>    <p  class="">
    <span style="color: #000080;" class="">
    <span style="color: #000000;" class="">
A new project should appear in the Project Explorer, showing the selected visit.    </span>
    </span>
    </p>
    <p  class="">
<u class=" ">    <span style="color: #000080;" class="">
    <span style="color: #000000;" class="">
ICAT Archive Project    </span>
    </span>
</u>    </p>
    <p  class="">
    <span style="color: #000080;" class="">
    <span style="color: #000000;" class="">
    <span style="color: #000080;" class="">
    <span style="color: #000000;" class="">
    <span style="color: #000080;" class="">
    <span style="color: #000000;" class="">
Outside of Diamond, visit data can still be accessed by DAWN projects, but they must be linked through the ICAT or ISPyB databases.    </span>
    </span>
    </span>
    </span>
    </span>
    </span>
    </p>
    <p  class="">
    <span style="color: #000080;" class="">
    <span style="color: #000000;" class="">
    <span style="color: #000080;" class="">
    <span style="color: #000000;" class="">
To link to an ICAT database (if supported by the beamline).    </span>
    </span>
    </span>
    </span>
    </p>
<ul class=" "><li class=" ">    <p  class="">
    <span style="color: #000080;" class="">
<strong class=" ">Open a new ICAT V4 Archive Project.</strong>    </span>
    </p>
</li><li class=" ">    <p  class="">
    <span style="color: #000080;" class="">
<strong class=" ">Enter your fedid and password and a name for the project and click Finish.</strong>    </span>
    </p>
</li></ul>    <p  class="">
    <span style="color: #000080;" class="">
    <span style="color: #000000;" class="">
    <span style="color: #000080;" class="">
    <span style="color: #000000;" class="">
Two new projects should appear, the ICAT project and a ICAT downloaded data project.    </span>
    </span>
    </span>
    </span>
    </p>
    <p  class="">
    <span style="color: #000080;" class="">
    <span style="color: #000000;" class="">
    <span style="color: #000080;" class="">
    <span style="color: #000000;" class="">
In an ICAT project, only when the data is opened is it downloaded locally. Exploring the project tree and viewing the file meta data doesn't download the data.<br/>    </span>
    </span>
    </span>
    </span>
    </p>
    <p  class="">
    <span style="color: #000080;" class="">
    <span style="color: #000000;" class="">
<u class=" ">ISPyB Data Project</u>    </span>
    </span>
    </p>
    <p  class="">
    <span style="color: #000080;" class="">
    <span style="color: #000000;" class="">
An ISPyB project works in a similar way to a ICAT project, but shows more meta data. Again, only for beamlines the support the ISpyB database.    </span>
    </span>
    </p>
    <p  class="">
    <span style="color: #000080;" class="">
    <span style="color: #000000;" class="">
<br/>    </span>
    </span>
    </p>
    </div>
    
    </div>
    
    <div class="section section-2 "  id="22251889_Session2.DAWNTraining-AdvancedDataBrowsing-TestYourself"  >
        <h2>Test Yourself</h2>
    
<ol class=" "><li class=" ">    <p  class="">
Describe three different Regions of Interest, what they look like and how they are drawn.    </p>
</li><li class=" ">    <p  class="">
What shape ROI does the Radial profile tool work with?    </p>
</li><li class=" ">    <p  class="">
How do you stop artifacts in an image (such as the spacing between detector plates in a Pilatus image)  affecting profiles of the image?    </p>
</li><li class=" ">    <p  class="">
What are the colors of the edges of a perimeter box profile?    </p>
</li><li class=" ">    <p  class="">
What approximations are made by the peak fitting tool?    </p>
</li><li class=" ">    <p  class="">
What is the distance between the two highest peaks in Column_1 of metalmix.mca (total distance, dx, and dy).    </p>
</li><li class=" ">    <p  class="">
&quot;dataset_1&quot; has the shape [100,200,300], what Expression should would give a [100,200] image which is the mean of the other axis?    </p>
</li><li class=" ">    <p  class="">
What 5 things can be saved in an exported nexus file?    </p>
</li></ol>    <p  class="">
<i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><i class=" "><strong class=" "><br/></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i></strong></i>    </p>
    <p  class="">
<strong class=" "><br/></strong>    </p>
    </div>
    
        </div>
    
        <div class="footer">
            Created with <a href="http://k15t.com/display/web/Scroll-Wiki-EclipseHelp-Exporter-for-Confluence">Scroll EclipseHelp Exporter for Confluence</a>.
        </div>
    </div>
</body>
</html>
