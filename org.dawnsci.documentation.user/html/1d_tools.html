

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>5. Trace Plotting Tools (1D) &mdash; org.dawnsci.documentation.user v1.1 documentation</title>
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/print.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/theme_extras.js"></script>
    <link rel="top" title="org.dawnsci.documentation.user v1.1 documentation" href="index.html" />
    <link rel="next" title="6. Image Plotting Tools (2D)" href="2d_tools.html" />
    <link rel="prev" title="4. Plot View Actions" href="plotviewactions.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="index.html">
          <span>org.dawnsci.documentation.user v1.1 documentation</span></a></h1>
        <h2 class="heading"><span>5. Trace Plotting Tools (1D)</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="plotviewactions.html">4. Plot View Actions</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="contents.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="2d_tools.html">6. Image Plotting Tools (2D)</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="trace-plotting-tools-1d">
<h1>5. Trace Plotting Tools (1D)<a class="headerlink" href="#trace-plotting-tools-1d" title="Permalink to this headline">¶</a></h1>
<p>Dawn supplies a variety of tools for interacting with 1-dimensional data (traces apposed to images). These tools are access by clicking on drop down arrow next to the Spanner icon in the plot view toolbar. After selecting a tool the icon changes to reflect the chosen tool.</p>
<div class="section" id="items-common-to-all-tools">
<h2>5.1. Items Common to All Tools<a class="headerlink" href="#items-common-to-all-tools" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-view-menu">
<h3>5.1.1. The View Menu<a class="headerlink" href="#the-view-menu" title="Permalink to this headline">¶</a></h3>
<p>The view menu contains some of the tool bar actions and:</p>
<ul class="simple">
<li>Open cheat sheet: Cheat sheets are in-built help sections in DAWN which guide you through tools and views</li>
<li>Open in dedicated view: In a dedicated view a tool operates on all open files. For example, if you opened the derviative tool and made it a dedicated view, all trace plots would be shown as first derivatives.</li>
</ul>
</div>
<div class="section" id="closing-tools">
<h3>5.1.2. Closing Tools<a class="headerlink" href="#closing-tools" title="Permalink to this headline">¶</a></h3>
<p>Tools can be closed either by selecting a different tool or the clear tool option or by closing the tool view tab.</p>
</div>
</div>
<div class="section" id="peakicon-peak-fitting-tool">
<h2>5.2. <img alt="peakicon" src="_images/plot-tool-peak-fit.png" /> Peak Fitting Tool<a class="headerlink" href="#peakicon-peak-fitting-tool" title="Permalink to this headline">¶</a></h2>
<img alt="_images/peak_tool_actions.png" src="_images/peak_tool_actions.png" />
<p>The peak fitting tool is designed to automatically identify individual sharp peaks in a data trace (like those found in a powder diffraction).</p>
<p>On selecting the peak fitting tool, the peak fitting tab will be displayed and the mouse pointer will change allowing a region of interest (ROI) to be selected along the x-axis.</p>
<p>Clicking and dragging the mouse pointer defines the region to be fit. The peak fitting happens automatically on release of the mouse button.  The fitted peaks are displayed on the plot; the peak parameters are displayed in the table on the peak fitting tab.</p>
<div class="section" id="peak-fitting-tool-actions">
<h3>5.2.1. Peak Fitting Tool Actions<a class="headerlink" href="#peak-fitting-tool-actions" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">New Fit selection: Switches the mouse to x-axis ROI mode, allowing the peak fitting region to be redefined.</p>
</li>
<li><dl class="first docutils">
<dt>Plot display toggle actions</dt>
<dd><ul class="first last simple">
<li>Show/Remove annotation at peak position</li>
<li>Show/Remove fitting traces</li>
<li>Show/Remove peak lines</li>
<li>Show/Remove selection regions for full width half max</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">Save peak: Stores current peak in the table (useful for comparing the same fit but with a different peak type etc.). Cleared using</p>
</li>
<li><p class="first">Peak type to fit: Select peak profile (Gaussian, Lorentzian...)</p>
</li>
<li><p class="first">Choose trace for fit: Select which of the plotted traces to fit</p>
</li>
<li><p class="first">Number of peaks to fit: Maximum number of peaks used in the fit. The fitting tool will not fit more peaks than it finds, so the actual number of peaks fit may be less than this number.</p>
</li>
<li><p class="first">Clear all regions found in the fitting: Removes ROI from plot, all associated peaks, and parameter data from the table</p>
</li>
<li><p class="first">Delete peak selected, if any: removes peak from table and plot view</p>
</li>
</ul>
</div>
<div class="section" id="view-menu-items">
<h3>5.2.2. View Menu Items<a class="headerlink" href="#view-menu-items" title="Permalink to this headline">¶</a></h3>
<p>The view menu contains some of the tool bar actions and:</p>
<ul class="simple">
<li>Preferences...: Shortcut to the fitting preferences where the default accuracy and smoothing can be set</li>
</ul>
</div>
</div>
<div class="section" id="lineicon-line-fitting-tool">
<h2>5.3. <img alt="lineicon" src="_images/plot-tool-line-fit.png" /> Line Fitting Tool<a class="headerlink" href="#lineicon-line-fitting-tool" title="Permalink to this headline">¶</a></h2>
<img alt="_images/line_tool_actions.png" src="_images/line_tool_actions.png" />
<p>The line fitting tool works in a similar fashion to the peak fitting tool but fits a polynomial rather than a peak.</p>
<p>On selecting the line fitting tool, the line fitting tab will be displayed and the mouse pointer will change allowing a ROI) to be selected along the x-axis.</p>
<p>Clicking and dragging the mouse pointer defines the region to be fit. The line fitting happens automatically on release of the mouse button.  The fitted line is displayed on the plot; the line parameters are displayed in the table on the line fitting tab.</p>
<div class="section" id="line-fitting-tool-actions">
<h3>5.3.1. Line Fitting Tool Actions<a class="headerlink" href="#line-fitting-tool-actions" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">New Fit selection: Switches the mouse to x-axis ROI mode, allowing the line fitting region to be redefined.</p>
</li>
<li><dl class="first docutils">
<dt>Plot display toggle actions</dt>
<dd><ul class="first last simple">
<li>Show/Remove fitting traces</li>
<li>Show/Remove selection regions</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">Choose trace for fit: Select which of the plotted traces to fit</p>
</li>
<li><p class="first">Polynomial order to fit: Select polynomial order (1st, 2nd, 3rd...)</p>
</li>
<li><p class="first">Clear all regions found in the fitting: Removes ROI from plot, all associated peaks, and parameter data from the table</p>
</li>
<li><p class="first">Delete line selected, if any: removes line from table and plot view</p>
</li>
</ul>
</div>
</div>
<div class="section" id="dericon-derivative-tool">
<h2>5.4. <img alt="dericon" src="_images/plot-tool-derivative.png" /> Derivative Tool<a class="headerlink" href="#dericon-derivative-tool" title="Permalink to this headline">¶</a></h2>
<img alt="_images/derivative_actions.png" src="_images/derivative_actions.png" />
<p>The derivative tool allows the first and second derivatives of the data trace to be displayed with or without the original trace.
On selecting the derivative tool, the derivative tab will be displayed and the trace will automatically be shown as first derivative.</p>
<p>The three check boxes on the derivative tab view allow any combination of the data, first derivative and second derivative to be displayed.</p>
</div>
<div class="section" id="infoicon-xy-information-tool">
<h2>5.5. <img alt="infoicon" src="_images/info.png" /> XY Information Tool<a class="headerlink" href="#infoicon-xy-information-tool" title="Permalink to this headline">¶</a></h2>
<img alt="_images/xyinfo_actions.png" src="_images/xyinfo_actions.png" />
<p>The XY information tool shows the position of the mouse cursor in the plot view and can be used to place point ROIs as markers.</p>
<p>On selecting the XY information tool, the XY information tab will be displayed, showing the current mouse pointer co-ordinates and the mouse pointer will change to crosshairs.</p>
<p>Clicking the mouse button places a point ROI whose position is displayed in the XY information tool tab table.</p>
<div class="section" id="xy-information-tool-actions">
<h3>5.5.1. XY Information Tool Actions<a class="headerlink" href="#xy-information-tool-actions" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Copy Values to Clipboard: Copies the  parameters to the clipboard as text</li>
<li>Delete Selected Region: Deletes the XY parameters from the table and the point ROI from the plot view</li>
<li>Show Vertices of Visible Regions: Displays the  co-ordinates for point ROI on the plot</li>
<li>Clear Vertices of Visible Regions: Clears the added co-ordinates</li>
</ul>
</div>
</div>
<div class="section" id="meaicon-measurement-tool">
<h2>5.6. <img alt="meaicon" src="_images/plot-tool-measure.png" /> Measurement Tool<a class="headerlink" href="#meaicon-measurement-tool" title="Permalink to this headline">¶</a></h2>
<img alt="_images/measurement_actions.png" src="_images/measurement_actions.png" />
<p>The measurement tool allows precise distances to be measured on the plot view.</p>
<p>On selecting the measurement tool, the measurement tab will be displayed and the mouse pointer will change to draw a line ROI.</p>
<p>Clicking and dragging the mouse pointer defines the measurement line region. The line measurement parameters (distance in x and y, line length and angle) for each line draw are shown in the measurement tool tab table.</p>
<p>After the measurement line is drawn it can be moved or changed by clicking on the line ROI in the plot.</p>
<div class="section" id="measurement-tool-actions">
<h3>5.6.1. Measurement Tool Actions<a class="headerlink" href="#measurement-tool-actions" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Create New Measurement: Switches the mouse to line ROI mode, allowing a new measurement line to be draw</li>
<li>Copy Values to Clipboard: Copies the measurement parameters to the clipboard as text</li>
<li>Delete Selected Region: Deletes the measurement parameters from the table and the measurement line ROI from the plot view</li>
<li>Show Vertices of Visible Regions: Displays the end co-ordinates for each line ROI on the plot</li>
<li>Clear Vertices of Visible Regions: Clears the added co-ordinates</li>
</ul>
</div>
</div>
<div class="section" id="hisicon-history-tool">
<h2>5.7. <img alt="hisicon" src="_images/plot-tool-history.png" /> History Tool<a class="headerlink" href="#hisicon-history-tool" title="Permalink to this headline">¶</a></h2>
<img alt="_images/history_actions.png" src="_images/history_actions.png" />
<p>The History tool allows data from different files to be shown in the same plot.  It always opens in a dedicated window, since this is required to allow interaction with different plot views showing different data sets.</p>
<p>Selecting the history tool opens the history tab which contains the history actions and a table where traces added to the history are displayed.</p>
<div class="section" id="history-tool-actions">
<h3>5.7.1. History Tool Actions<a class="headerlink" href="#history-tool-actions" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Automatically add any new plots to the history:</li>
<li>Add current plots to history</li>
<li>Delete selected: Removes selected plot from history</li>
<li>Clear History</li>
<li>Rename selected: allows the name of the selected trace to be changed</li>
</ul>
</div>
</div>
<div class="section" id="xafs-analysis-tool">
<h2>5.8. XAFS Analysis Tool<a class="headerlink" href="#xafs-analysis-tool" title="Permalink to this headline">¶</a></h2>
<p>The XAFS tool contains data processing options specific to the analysis of X-ray absorption fine structure spectra, so is generally only useful for this type of data (although the tool is present for all 1D data types and some calculations will be valid for any data type).</p>
<p>Clicking on the XAFS tool opens the XAFS Analysis tab which contains a plot view and a variety of actions and editable parameters.</p>
<p>The plot view initially displays the first derivative of the data shown in the main plot, but what is shown in the plot view is controlled by the tool actions</p>
<div class="section" id="xafs-analysis-tool-actions">
<h3>5.8.1. XAFS Analysis Tool Actions<a class="headerlink" href="#xafs-analysis-tool-actions" title="Permalink to this headline">¶</a></h3>
<p>As well as all the usual actions associated with a plot view the XAFS tool also provides the following actions:</p>
<ul class="simple">
<li>Show derivative of first set plotted (default view): This is used to show energy profile for placing the a and k start values</li>
<li>Polynomial filtered noise calculation: shows the noise on the spectrum (i.e. the difference between the data set and one which has been smoothed with polynomial filter), the tool also displays the RMS error of this noise spectrum.</li>
<li>Show  normalised data: Performs an XAFS specific normalisation. The a and k values must be set for this calculation to produce acceptable results. The green line shows the pre-edge energy, the red line shows the post edge energy</li>
<li>Show  normalised data with spline used for background subtraction. Again, a and k must be set.</li>
<li>Show function after background subtraction</li>
<li>Show function after Fourier transform</li>
<li>Guess a and k start values</li>
</ul>
</div>
<div class="section" id="xafs-analysis-tool-options-and-parameters">
<h3>5.8.2. XAFS Analysis Tool Options and Parameters<a class="headerlink" href="#xafs-analysis-tool-options-and-parameters" title="Permalink to this headline">¶</a></h3>
<p>The following options and parameters can either be changed to alter the output of the XAFS analysis algorithms, or show some a value calculated by the tool.</p>
<ul class="simple">
<li>Pre-edge: Used to set the pre-edge energy value (eV)</li>
<li>Post-edge: Used to set the post-edge energy value (ev)</li>
<li>Chebyshev background: select Chebyshev polynomials for the background subtraction</li>
<li>k-weight</li>
<li>Max Order</li>
<li>Interpolate</li>
<li>Filter</li>
<li>Fourier RMS error</li>
<li>Polynomial RMS error</li>
</ul>
</div>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="plotviewactions.html">4. Plot View Actions</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="contents.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="2d_tools.html">6. Image Plotting Tools (2D)</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2013, Diamond Light Source.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.4.
    </div>
  </body>
</html>