

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>6. Image Plotting Tools (2D) &mdash; org.dawnsci.documentation.user v1.1 documentation</title>
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/print.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/theme_extras.js"></script>
    <link rel="top" title="org.dawnsci.documentation.user v1.1 documentation" href="index.html" />
    <link rel="next" title="7. Poll View and MX Live Perspective" href="pollingview.html" />
    <link rel="prev" title="5. Trace Plotting Tools (1D)" href="1d_tools.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="index.html">
          <span>org.dawnsci.documentation.user v1.1 documentation</span></a></h1>
        <h2 class="heading"><span>6. Image Plotting Tools (2D)</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="1d_tools.html">5. Trace Plotting Tools (1D)</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="contents.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="pollingview.html">7. Poll View and MX Live Perspective</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="image-plotting-tools-2d">
<h1>6. Image Plotting Tools (2D)<a class="headerlink" href="#image-plotting-tools-2d" title="Permalink to this headline">¶</a></h1>
<p>Images have a range of tools such as zooming and</p>
<p>The image plotting tools appear automatically when an image (two-dimensional data array) is plotted.
You can choose an image tool by going to the tool action menu:</p>
<img alt="_images/plot-tool-any.png" src="_images/plot-tool-any.png" />
<p>and choosing the kind of tool you would like. The follow section details with what each of the tools do.</p>
<p><strong>NOTE</strong> All tools which use regions like lines, boxes and sectors may be run with multiple regions. Many
lines for instance may be drawn by the line profile tool. To add another region click the button for the tool
again.</p>
<div class="section" id="coloricon-color-mapping">
<h2>6.1. <img alt="coloricon" src="_images/brightness_contrast.png" /> Color Mapping<a class="headerlink" href="#coloricon-color-mapping" title="Permalink to this headline">¶</a></h2>
<img alt="_images/colormap.png" src="_images/colormap.png" />
<p>The colour mapping tool is used to adjust how the values of intensity are coloured. The colours are assigned
within a maximum and minimum value for intensity. There are also minimum and maximum cut values, outside these
ranges and a value is considered bad and has a special colour. For instance dead pixels blue and zingers red.</p>
<p>Imagining the plotting the intensities with a normal distribution the colour range of the palette and cut offs
is given by:</p>
<img alt="_images/intensitydrawing.png" src="_images/intensitydrawing.png" />
<p>Pressing the &#8216;h&#8217; key with the plot selected will result in the current max and min for the colour range
being reset.</p>
<p>On the graph tool bar there is a button labelled &#8216;Configure Settings...&#8217; :</p>
<img alt="_images/Configure.png" src="_images/Configure.png" />
<p>This opens a dialog with the tabbed pane &#8216;Image Traces&#8217; which allows one to choose a mean based or median based
assignment for the max and min values.</p>
<p>On the color mapping tool, you may click in the &#8216;Histogram Plot&#8217; to move the intensity range manually. The blue area
selected represents the active range of intensities.</p>
<div class="section" id="view-menu-of-color-mapping">
<h3>6.1.1. View menu of Color Mapping<a class="headerlink" href="#view-menu-of-color-mapping" title="Permalink to this headline">¶</a></h3>
<p>There is a view menu at the top of the tool. The action &#8216;Histogram range locked for this image&#8217; will lock the max
min in the histogram. If Color Mapping is opened in a dedicated view, it will apply its colour scheme to any image
opened.</p>
</div>
</div>
<div class="section" id="pixelicon-pixel-information">
<h2>6.2. <img alt="pixelicon" src="_images/info.png" /> Pixel Information<a class="headerlink" href="#pixelicon-pixel-information" title="Permalink to this headline">¶</a></h2>
<img alt="_images/pixelinfo.png" src="_images/pixelinfo.png" />
<p>Pixel infomation shows the pixel position and its intensity as you move the mouse over the image. In addition
you may click add points which report the same position. The tool (which works better wide and short in size to
avoid scrolling) also reports q, theta and resolution providing the meta-data can be read out of the
original image.</p>
<div class="section" id="toolbar-of-pixel-information">
<h3>6.2.1. Toolbar of Pixel Information<a class="headerlink" href="#toolbar-of-pixel-information" title="Permalink to this headline">¶</a></h3>
<p>The toolbar of Pixel Information contains actions which apply to vertices (points created when you click). They
can be deleted or have labels turned on and off.</p>
</div>
</div>
<div class="section" id="profile-tools">
<h2>6.3. Profile Tools<a class="headerlink" href="#profile-tools" title="Permalink to this headline">¶</a></h2>
<img alt="_images/profilehead.png" src="_images/profilehead.png" />
<p>The profile tools are used to convert 2D image data into 1D trace data (exluding the zoom profile tool), and so have many common features.  A brief description of the profile tools and there common features is given below.</p>
<p>On opening a profile tool, the mouse action automatically changes to draw the appropriate region of interest (ROI, line for line profile, sector for radial integration). Drawing the ROI produces a trace plot in the plot view on the profile tool tab.  All the profile tool tabs have an action button to allow a new ROI to be added to the image plot. Multiple ROIs can be added, and the profile traces compared.  Once an ROI is draw it can be modified by dragging the whole ROI or any of its vertices.</p>
<p>The 1D trace data produced by the profile tools can be further analysed using any of the plot view tools (zoom, pan.... or 1D tools (peak fitting, derivative...) described previous sections.</p>
<div class="section" id="linepicon-line-profile">
<h3>6.3.1. <img alt="linepicon" src="_images/plot-tool-line-profile.png" /> Line Profile<a class="headerlink" href="#linepicon-line-profile" title="Permalink to this headline">¶</a></h3>
<p>The line profile tool extracts the intensity along a line.</p>
</div>
<div class="section" id="crossicon-cross-hair-profile">
<h3>6.3.2. <img alt="crossicon" src="_images/plot-tool-cross-hairs.png" /> Cross Hair Profile<a class="headerlink" href="#crossicon-cross-hair-profile" title="Permalink to this headline">¶</a></h3>
<p>The cross hair profile tool changes the mouse pointer to a cross hair spanning the entire image. A live update of the horizontal and vertical intensity profiles
is shown in the profile tool plot view. If the image is clicked, a copy of the crosshair profile is left static on the image and the associated profile traces stay plotted.</p>
</div>
<div class="section" id="boxpicon-box-profile">
<h3>6.3.3. <img alt="boxpicon" src="_images/plot-tool-box-profile.png" /> Box Profile<a class="headerlink" href="#boxpicon-box-profile" title="Permalink to this headline">¶</a></h3>
<p>The box profile tool is the integral of vertical and horizontal intensities of a box drawn on the image.</p>
</div>
<div class="section" id="radpicon-azpicon-sector-radial-azimuthal-profiles">
<h3>6.3.4. <img alt="radpicon" src="_images/plot-tool-radial-integral.png" /> <img alt="azpicon" src="_images/plot-tool-azimuthal-integral.png" /> Sector (Radial/Azimuthal) Profiles<a class="headerlink" href="#radpicon-azpicon-sector-radial-azimuthal-profiles" title="Permalink to this headline">¶</a></h3>
<p>The radial and azimuthal profile tools work with sector ROIs and show the integral of the radial or azimuthal intensities of the sector drawn on the image.</p>
<img alt="_images/sectoractions.png" src="_images/sectoractions.png" />
<p>Both the profile plot views on these tools also have some additional actions specific to the sector ROIs:</p>
<ul class="simple">
<li>Centre Sector: Centres the sector to the centre of the image (or the beam centre if the image has diffraction metadata – which can be created/edited using the diffraction tool)</li>
<li>Symmetry Settings: Automatically creates another sector, tied to the initial sector, and related in symmetry.</li>
<li>Combine Symmetry: Displays the sum of the symmetry-related profile traces rather than two individual traces.</li>
</ul>
<img alt="_images/radialdiffmeta.png" src="_images/radialdiffmeta.png" />
<p>The Radial profile tool has two additional actions. If the image has diffraction metadata the sector can be locked to this data (automatically centring the sector on the beam centre). This makes the sector un-editable. When locked, the profile may be plotted against d, 2 theta, q as well as pixel.</p>
</div>
<div class="section" id="zoompicon-zoom-profile">
<h3>6.3.5. <img alt="zoompicon" src="_images/zoom_box.png" /> Zoom Profile<a class="headerlink" href="#zoompicon-zoom-profile" title="Permalink to this headline">¶</a></h3>
<p>The zoom profile tool is different from the other profile tools in that it shows a 2d image of a subregion of the original image. The subregion is selected by a box ROI.  This ROI can be dragged and resized and the zoomed profile will update accordingly. The contrast of the zoomed area is also automatically corrected when the ROI is moved.  This tool is especially good for studying fine structure in large high resolution images.</p>
</div>
</div>
<div class="section" id="maskicon-masking">
<h2>6.4. <img alt="maskicon" src="_images/plot-tool-masking.png" /> Masking<a class="headerlink" href="#maskicon-masking" title="Permalink to this headline">¶</a></h2>
<img alt="_images/masktool.png" src="_images/masktool.png" />
<p>The masking tool allows artefacts to be selected in an image so they can be ignored in further processing steps.  For example, masking out the beam stop shadow in a powder diffraction image means those pixels wont be included when the  data is reduced using the radial integration tool.</p>
<p>Masking can performed in two ways:</p>
<ul class="simple">
<li>By thresholding out the upper or lower values</li>
<li>By selecting areas using regions of interest (ROI)</li>
</ul>
<div class="section" id="masking-tool-actions">
<h3>6.4.1. Masking Tool Actions<a class="headerlink" href="#masking-tool-actions" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Save the mask into a buffer: allows the mask from one image to be used in another</li>
<li>Merge the previously saved mask from buffer with this mask (if any)</li>
<li>Auto save the mask to the buffer when it changes</li>
<li>Add annotation to the image</li>
<li>Configure...: A shortcut to the image plot view plotting configuration</li>
</ul>
</div>
</div>
<div class="section" id="ellicon-ellipse-fitting">
<h2>6.5. <img alt="ellicon" src="_images/plot-tool-ellipse.png" /> Ellipse Fitting<a class="headerlink" href="#ellicon-ellipse-fitting" title="Permalink to this headline">¶</a></h2>
<img alt="_images/ellipsefit.png" src="_images/ellipsefit.png" />
<p>The ellipse fitting tool is used to draw an elliptical region on the image plot view. The parameters of the ellipse (centre, major semi-axis length....) are shown in the ellipse fitting tool tab.</p>
<img alt="_images/ellipseprocess.png" src="_images/ellipseprocess.png" />
<p>An ellipse region is produced by clicking on the image to place point markers. When four markers are placed a live ellipse outline is shown on the image. Double clicking the final marker down finishes the fit.  The final ellipse can be modified by clicking and dragging any of the point markers.</p>
<div class="section" id="ellipse-fitting-tool-actions">
<h3>6.5.1. Ellipse Fitting Tool Actions<a class="headerlink" href="#ellipse-fitting-tool-actions" title="Permalink to this headline">¶</a></h3>
<p>The ellipse fitting tool only has one toolbar action, remove region, which removes the selected region from the plot and table.</p>
</div>
</div>
<div class="section" id="hisicon-image-history">
<h2>6.6. <img alt="hisicon" src="_images/plot-tool-history.png" /> Image History<a class="headerlink" href="#hisicon-image-history" title="Permalink to this headline">¶</a></h2>
<img alt="_images/imagehistorytool.png" src="_images/imagehistorytool.png" />
<p>The Image History tool allows data from different images (of the same dimensions) to be mathematically combined and displayed.  It always opens in a dedicated window, since this is required to allow interaction with different plot views showing different data sets.</p>
<p>Selecting the history tool opens the history tab which contains the history actions and a table where images added to the history are displayed.</p>
<p>The table in the Image History Tool tab allows the images to be selected for combination and, using the Operator option (+, -,*, /) how they are to be combined.</p>
<div class="section" id="image-history-tool-actions">
<h3>6.6.1. Image History Tool Actions<a class="headerlink" href="#image-history-tool-actions" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Include current plot: Toggles whether the currently shown image is included in the combined image</li>
<li>Revert plot: Undoes any processing</li>
<li>Move up: moves the selected image up in the table</li>
<li>Move down: moves the selected image down in the table</li>
<li>Add Image to the compare table</li>
<li>Delete selected</li>
<li>Clear History</li>
<li>Rename selected</li>
</ul>
</div>
</div>
<div class="section" id="diffricon-diffraction">
<h2>6.7. <img alt="diffricon" src="_images/plot-tool-diffraction.png" /> Diffraction<a class="headerlink" href="#diffricon-diffraction" title="Permalink to this headline">¶</a></h2>
<img alt="_images/diffracttool.png" src="_images/diffracttool.png" />
<p>The Diffraction Tool is specific to diffraction imaging data, and can be used to view, edit or generate diffraction metadata (information about a diffraction experiment required to extract useful information from the image).</p>
<p>The experimental parameters shown in the diffraction tool tab are either editable (black) or un-editable (brown). Most values can be displayed in various units.</p>
<p>The Diffraction Tool can be used in combination with the radial profile tool to extract diffraction traces (intensity vs d/2 theta/q) from images.</p>
<p>If an image has no stored diffraction data it is created when the diffraction tool is opened.</p>
<div class="section" id="diffraction-tool-actions">
<h3>6.7.1. Diffraction Tool Actions<a class="headerlink" href="#diffraction-tool-actions" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Lock the diffraction data and apply it to newly opened files: especially useful  when used to set up diffraction data for multiple images from one calibration image</li>
<li>Show resolution rings: Displays standard, ice and calibrant rings, as well as the beam center.  These rings are only correct if the diffraction metadata is correct.</li>
<li>Calibrants: Allows the specific material used as a calibrant to be selected</li>
<li>One click beam centre: Allows the beam centre to be set by clicking on the image</li>
<li>Refine beam centre: Experimental – follow instructions after clicking action</li>
<li>Reset selected field</li>
<li>Reset all fields</li>
</ul>
</div>
<div class="section" id="diffraction-tool-view-menu">
<h3>6.7.2. Diffraction Tool View Menu<a class="headerlink" href="#diffraction-tool-view-menu" title="Permalink to this headline">¶</a></h3>
<p>The View menu on the diffraction tool contains a shortcut to the configure calibrants section of the preferences.</p>
</div>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="1d_tools.html">5. Trace Plotting Tools (1D)</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="contents.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="pollingview.html">7. Poll View and MX Live Perspective</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2013, Diamond Light Source.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.4.
    </div>
  </body>
</html>